{
  "kind": "build_request",
  "title": "Replace Internet Identity teacher auth with single password login + change password, and update portal logo",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-10",
      "text": "Replace the current Internet Identity-based teacher authentication/authorization with a single password-based teacher login (one teacher account) enforced by the backend for all teacher/admin actions (create/update/publish quizzes, view results, and any other teacher-only APIs).",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Replace Internet Identity with password-based teacher login (single teacher account) using default password admin123"
        ]
      },
      "acceptanceCriteria": [
        "All backend methods that currently rely on `ensureAdminOrTeacher(caller)` (or equivalent role checks) require successful password authentication instead.",
        "Students can continue accessing student flows without any authentication changes.",
        "Teacher-only pages (dashboard, quiz editor, results) are inaccessible until the correct teacher password is provided.",
        "No Internet Identity login/logout UI is required for teacher access after this change."
      ]
    },
    {
      "id": "REQ-11",
      "text": "Implement backend storage and APIs for teacher password authentication using default password \"admin123\" on first install, including a teacher login API that the frontend can use to verify the password, and update all teacher/admin APIs to validate access via the password mechanism.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Password admin123"
        ]
      },
      "acceptanceCriteria": [
        "On a fresh deploy, teacher password defaults to exactly \"admin123\".",
        "Backend persists the teacher password across upgrades.",
        "Backend provides an API to validate a teacher password for login.",
        "All teacher/admin APIs validate password access and return a clear error message when the password is missing/invalid."
      ]
    },
    {
      "id": "REQ-12",
      "text": "Add a teacher Change Password feature: backend API to change the teacher password requiring old password + new password, and a teacher UI screen/form to perform the change.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Change Password screen me teacher ko purana password + naya password dono dalne honge"
        ]
      },
      "acceptanceCriteria": [
        "Teacher can open a Change Password screen from the teacher portal UI.",
        "Form requires both Old Password and New Password fields; submission is blocked when either is empty.",
        "Backend rejects change-password attempts when the old password is incorrect.",
        "On successful password change, a success confirmation is shown in the UI and subsequent teacher actions require the new password."
      ]
    },
    {
      "id": "REQ-13",
      "text": "Update the frontend teacher portal gating and header controls to use password-based login state instead of `useInternetIdentity`, without modifying any files in the immutablePaths list (compose new hooks/components as needed and update call sites).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Replace Internet Identity with password-based teacher login (single teacher account)"
        ]
      },
      "acceptanceCriteria": [
        "`frontend/src/components/TeacherGate.tsx` no longer requires Internet Identity sign-in and instead prompts for the teacher password when needed.",
        "`frontend/src/components/Header.tsx` no longer shows Internet Identity Sign In/Sign Out actions; it reflects teacher password login state (e.g., Sign In / Sign Out) appropriate for the password flow.",
        "No changes are made to the immutable hook files under `frontend/src/hooks/useInternetIdentity.ts` / `.tsx`, `frontend/src/hooks/useActor.ts`, `frontend/src/main.tsx`, or any files under `frontend/src/components/ui`."
      ]
    },
    {
      "id": "REQ-14",
      "text": "Replace the student and teacher portal logo with the uploaded DEV Classes logo across the appâ€™s home/portal header branding.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Student and teacher dono ka logo"
        ]
      },
      "acceptanceCriteria": [
        "The header logo currently using `/assets/generated/quiz-logo.dim_512x512.png` is replaced to use the new DEV Classes logo asset.",
        "The updated logo appears consistently in both Student Portal and Teacher Portal header branding.",
        "All user-facing text related to branding remains in English."
      ]
    }
  ],
  "constraints": [
    "Backend must remain a single-actor Motoko canister; keep all logic in `backend/main.mo` and only add `backend/migration.mo` if required for upgrade-safe state changes.",
    "Do not edit frontend immutable paths: `frontend/src/hooks/useInternetIdentity.ts`, `frontend/src/hooks/useInternetIdentity.tsx`, `frontend/src/hooks/useActor.ts`, `frontend/src/main.tsx`, and anything under `frontend/src/components/ui`.",
    "Use English for any user-facing text."
  ],
  "nonGoals": [
    "Adding support for multiple teacher accounts or usernames.",
    "Integrating third-party authentication providers (only the requested password-based teacher login).",
    "Changing student login/identity rules (name+course) or quiz attempt rules beyond what is necessary for the teacher auth replacement."
  ],
  "imageRequirements": {
    "required": [
      "DEV Classes logo on white background (dev-classes-logo.dim_512x512.png)"
    ],
    "edits": []
  }
}